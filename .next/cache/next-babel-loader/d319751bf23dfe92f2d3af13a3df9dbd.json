{"ast":null,"code":"import React from \"react\";\nvar __jsx = React.createElement;\nimport { Component } from 'react';\nimport { Button, Container, List, Image, Grid, Message, Rail, Sticky, Input, Segment } from 'semantic-ui-react';\nimport HeaderMenu from '../views/HeaderMenu';\nimport web3 from '../ethereum/web3';\nimport PrivateKeyModal from '../views/modals/EnterPrivateKeyModal';\nimport UpdateProfileModal from '../views/modals/UpdateProfileModal';\nimport GuideModal from '../views/modals/GuideModal';\nimport Head from 'next/head';\nimport AppManager from '../core/AppManager';\nimport ContactList from '../views/ContactList';\nimport Chat from '../views/Chat';\nimport ErrorModal from '../views/modals/ErrorModal';\nimport SettingsModal from '../views/modals/SettingsModal';\nimport TransactionModal from '../views/modals/TransactionModal';\nimport Footer from '../views/Footer';\n\nclass Index extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      width: 0,\n      height: 0,\n      contactList: [],\n      messages: [],\n      selectedContact: \"\"\n    };\n    this.updateWindowDimensions = this.updateWindowDimensions.bind(this);\n    this.app = new AppManager();\n  }\n\n  componentDidMount() {\n    this.updateWindowDimensions();\n    window.addEventListener('resize', this.updateWindowDimensions);\n  }\n\n  UNSAFE_componentWillMount() {\n    this.app.initialize();\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('resize', this.updateWindowDimensions);\n  }\n\n  updateWindowDimensions() {\n    this.setState({\n      width: window.innerWidth,\n      height: window.innerHeight\n    });\n  }\n\n  render() {\n    var account = this.app.account;\n    var contractManager = this.app.contractManager;\n    var transactionDispatcher = this.app.getTransactionDispatcher();\n    var listHeight = this.state.height - 140;\n    return __jsx(Container, null, __jsx(Head, null, __jsx(\"title\", null, \"BlockChat - Decentralized messaging on Ethereum network\")), __jsx(UpdateProfileModal, {\n      account: account,\n      contractManager: contractManager\n    }), __jsx(PrivateKeyModal, {\n      account: account\n    }), __jsx(HeaderMenu, {\n      account: account,\n      transactionDispatcher: transactionDispatcher\n    }), __jsx(GuideModal, null), __jsx(ErrorModal, null), __jsx(SettingsModal, {\n      account: account\n    }), __jsx(TransactionModal, {\n      dispatcher: transactionDispatcher\n    }), __jsx(Grid, {\n      column: 2,\n      style: {\n        paddingTop: 100\n      }\n    }, __jsx(Grid.Row, {\n      stretched: true\n    }, __jsx(Grid.Column, {\n      width: 6,\n      style: {\n        height: listHeight + \"px\",\n        float: 'left'\n      }\n    }, __jsx(ContactList, {\n      height: listHeight,\n      account: account,\n      contractManager: contractManager\n    })), __jsx(Grid.Column, {\n      width: 10,\n      style: {\n        height: listHeight + \"px\",\n        overflow: 'auto',\n        float: 'left'\n      }\n    }, __jsx(Chat, {\n      height: listHeight,\n      account: account,\n      contractManager: contractManager\n    })))), __jsx(Footer, null));\n  }\n\n}\n\nexport default Index;","map":null,"metadata":{},"sourceType":"module"}