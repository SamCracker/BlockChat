{"ast":null,"code":"import _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"@babel/runtime-corejs2/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime-corejs2/helpers/esm/inherits\";\nvar _jsxFileName = \"D:\\\\BlockChat\\\\BlockChat\\\\pages\\\\index.js\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport { Component } from 'react';\nimport { Button, Container, List, Image, Grid, Message, Rail, Sticky, Input, Segment } from 'semantic-ui-react';\nimport HeaderMenu from '../views/HeaderMenu';\nimport web3 from '../ethereum/web3';\nimport PrivateKeyModal from '../views/modals/EnterPrivateKeyModal';\nimport UpdateProfileModal from '../views/modals/UpdateProfileModal';\nimport GuideModal from '../views/modals/GuideModal';\nimport Head from 'next/head';\nimport AppManager from '../core/AppManager';\nimport ContactList from '../views/ContactList';\nimport Chat from '../views/Chat';\nimport ErrorModal from '../views/modals/ErrorModal';\nimport SettingsModal from '../views/modals/SettingsModal';\nimport TransactionModal from '../views/modals/TransactionModal';\nimport Footer from '../views/Footer';\n\nvar Index = /*#__PURE__*/function (_Component) {\n  _inherits(Index, _Component);\n\n  function Index(props) {\n    var _this;\n\n    _classCallCheck(this, Index);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Index).call(this, props));\n    _this.state = {\n      width: 0,\n      height: 0,\n      contactList: [],\n      messages: [],\n      selectedContact: \"\"\n    };\n    _this.updateWindowDimensions = _this.updateWindowDimensions.bind(_assertThisInitialized(_this));\n    _this.app = new AppManager();\n    return _this;\n  }\n\n  _createClass(Index, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.updateWindowDimensions();\n      window.addEventListener('resize', this.updateWindowDimensions);\n    }\n  }, {\n    key: \"UNSAFE_componentWillMount\",\n    value: function UNSAFE_componentWillMount() {\n      this.app.initialize();\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      window.removeEventListener('resize', this.updateWindowDimensions);\n    }\n  }, {\n    key: \"updateWindowDimensions\",\n    value: function updateWindowDimensions() {\n      this.setState({\n        width: window.innerWidth,\n        height: window.innerHeight\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var account = this.app.account;\n      var contractManager = this.app.contractManager;\n      var transactionDispatcher = this.app.getTransactionDispatcher();\n      var listHeight = this.state.height - 140;\n      return __jsx(Container, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60\n        },\n        __self: this\n      }, __jsx(Head, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61\n        },\n        __self: this\n      }, __jsx(\"title\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62\n        },\n        __self: this\n      }, \"BlockChat - Decentralized messaging on Ethereum network\")), __jsx(UpdateProfileModal, {\n        account: account,\n        contractManager: contractManager,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65\n        },\n        __self: this\n      }), __jsx(PrivateKeyModal, {\n        account: account,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66\n        },\n        __self: this\n      }), __jsx(HeaderMenu, {\n        account: account,\n        transactionDispatcher: transactionDispatcher,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67\n        },\n        __self: this\n      }), __jsx(GuideModal, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68\n        },\n        __self: this\n      }), __jsx(ErrorModal, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69\n        },\n        __self: this\n      }), __jsx(SettingsModal, {\n        account: account,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70\n        },\n        __self: this\n      }), __jsx(TransactionModal, {\n        dispatcher: transactionDispatcher,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71\n        },\n        __self: this\n      }), __jsx(Grid, {\n        column: 2,\n        style: {\n          paddingTop: 100\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72\n        },\n        __self: this\n      }, __jsx(Grid.Row, {\n        stretched: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73\n        },\n        __self: this\n      }, __jsx(Grid.Column, {\n        width: 6,\n        style: {\n          height: listHeight + \"px\",\n          \"float\": 'left'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74\n        },\n        __self: this\n      }, __jsx(ContactList, {\n        height: listHeight,\n        account: account,\n        contractManager: contractManager,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75\n        },\n        __self: this\n      })), __jsx(Grid.Column, {\n        width: 10,\n        style: {\n          height: listHeight + \"px\",\n          overflow: 'auto',\n          \"float\": 'left'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77\n        },\n        __self: this\n      }, __jsx(Chat, {\n        height: listHeight,\n        account: account,\n        contractManager: contractManager,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78\n        },\n        __self: this\n      })))), __jsx(Footer, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return Index;\n}(Component);\n\nexport default Index;","map":{"version":3,"sources":["D:/BlockChat/BlockChat/pages/index.js"],"names":["Component","Button","Container","List","Image","Grid","Message","Rail","Sticky","Input","Segment","HeaderMenu","web3","PrivateKeyModal","UpdateProfileModal","GuideModal","Head","AppManager","ContactList","Chat","ErrorModal","SettingsModal","TransactionModal","Footer","Index","props","state","width","height","contactList","messages","selectedContact","updateWindowDimensions","bind","app","window","addEventListener","initialize","removeEventListener","setState","innerWidth","innerHeight","account","contractManager","transactionDispatcher","getTransactionDispatcher","listHeight","paddingTop","overflow"],"mappings":"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","sourcesContent":["import {Component} from 'react';\r\nimport {\r\n    Button,\r\n    Container,\r\n    List,\r\n    Image,\r\n    Grid,\r\n    Message,\r\n    Rail,\r\n    Sticky,\r\n    Input,\r\n    Segment\r\n} from 'semantic-ui-react';\r\nimport HeaderMenu from '../views/HeaderMenu';\r\nimport web3 from '../ethereum/web3';\r\nimport PrivateKeyModal from '../views/modals/EnterPrivateKeyModal';\r\nimport UpdateProfileModal from '../views/modals/UpdateProfileModal';\r\nimport GuideModal from '../views/modals/GuideModal';\r\nimport Head from 'next/head';\r\nimport AppManager from '../core/AppManager';\r\nimport ContactList from '../views/ContactList';\r\nimport Chat from '../views/Chat';\r\nimport ErrorModal from '../views/modals/ErrorModal';\r\nimport SettingsModal from '../views/modals/SettingsModal';\r\nimport TransactionModal from '../views/modals/TransactionModal';\r\nimport Footer from '../views/Footer';\r\n\r\nclass Index extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = { width: 0, height: 0, contactList: [], messages: [], selectedContact: \"\" };\r\n        this.updateWindowDimensions = this.updateWindowDimensions.bind(this);\r\n        this.app = new AppManager();\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.updateWindowDimensions();\r\n        window.addEventListener('resize', this.updateWindowDimensions);\r\n    }\r\n\r\n    UNSAFE_componentWillMount() {\r\n        this.app.initialize();\r\n    }\r\n      \r\n    componentWillUnmount() {\r\n        window.removeEventListener('resize', this.updateWindowDimensions);\r\n    }\r\n      \r\n    updateWindowDimensions() {\r\n        this.setState({ width: window.innerWidth, height: window.innerHeight });\r\n    }\r\n\r\n    render() {\r\n        var account = this.app.account;\r\n        var contractManager = this.app.contractManager;\r\n        var transactionDispatcher = this.app.getTransactionDispatcher();\r\n\r\n        var listHeight = this.state.height - 140;\r\n        return (\r\n            <Container>\r\n                <Head>\r\n                    <title>BlockChat - Decentralized messaging on Ethereum network</title>\r\n                </Head>\r\n\r\n                <UpdateProfileModal account={account} contractManager={contractManager} />\r\n                <PrivateKeyModal account={account} />\r\n                <HeaderMenu account={account} transactionDispatcher={transactionDispatcher}/>\r\n                <GuideModal />\r\n                <ErrorModal />\r\n                <SettingsModal account={account} />\r\n                <TransactionModal dispatcher={transactionDispatcher} />\r\n            <Grid column={2} style={{paddingTop: 100}}>\r\n                <Grid.Row stretched>\r\n                    <Grid.Column width={6} style={{height: listHeight + \"px\", float: 'left'}}>\r\n                        <ContactList height={listHeight} account={account} contractManager={contractManager}/>\r\n                    </Grid.Column>\r\n                    <Grid.Column width={10} style={{height: listHeight + \"px\", overflow: 'auto', float: 'left'}}>\r\n                        <Chat height={listHeight} account={account} contractManager={contractManager}/>\r\n                    </Grid.Column>\r\n                </Grid.Row>\r\n            </Grid>\r\n            <Footer />\r\n            </Container>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Index;"]},"metadata":{},"sourceType":"module"}