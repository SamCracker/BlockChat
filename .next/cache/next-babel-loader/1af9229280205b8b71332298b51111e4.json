{"ast":null,"code":"import _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"@babel/runtime-corejs2/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime-corejs2/helpers/esm/inherits\";\nimport _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport { Component } from 'react';\nimport { Modal, Header, Button, Icon, Form } from 'semantic-ui-react';\nimport appDispatcher from '../../core/AppDispatcher';\nimport Constant from '../../support/Constant';\n\nvar UpdateProfileModal = /*#__PURE__*/function (_Component) {\n  _inherits(UpdateProfileModal, _Component);\n\n  function UpdateProfileModal(props) {\n    var _this;\n\n    _classCallCheck(this, UpdateProfileModal);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(UpdateProfileModal).call(this, props));\n\n    _defineProperty(_assertThisInitialized(_this), \"handleClose\", function (e) {\n      e.preventDefault();\n\n      _this.setState({\n        modalOpen: false\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"updateProfileClicked\", function (e) {\n      e.preventDefault();\n\n      _this.contractManager.updateProfile(_this.state.name, _this.state.avatarUrl, function (resultEvent) {\n        if (resultEvent == Constant.EVENT.ON_RECEIPT) {\n          window.location.reload();\n        }\n      });\n\n      _this.setState({\n        modalOpen: false\n      });\n    });\n\n    _this.account = props.account;\n    _this.contractManager = props.contractManager;\n    _this.state = {\n      modalOpen: false,\n      name: _this.account.name,\n      avatarUrl: _this.account.avatarUrl\n    };\n    return _this;\n  }\n\n  _createClass(UpdateProfileModal, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      appDispatcher.register(function (payload) {\n        if (payload.action == Constant.ACTION.OPEN_UPDATE_PROFILE) {\n          _this2.setState({\n            modalOpen: true\n          });\n        } else if (payload.action == Constant.EVENT.ACCOUNT_INFO_UPDATED) {\n          _this2.setState({\n            name: payload.profile.name,\n            avatarUrl: payload.profile.avatarUrl\n          });\n        }\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      return __jsx(Modal, {\n        open: this.state.modalOpen,\n        onClose: this.handleClose\n      }, __jsx(Header, {\n        icon: \"\",\n        content: \"Update name and avatar\"\n      }), __jsx(Modal.Content, null, __jsx(Form, null, __jsx(Form.Field, null, __jsx(\"label\", null, \"Name\"), __jsx(\"input\", {\n        placeholder: \"Maximum 32 characters\",\n        value: this.state.name,\n        onChange: function onChange(e) {\n          if (e.target.value.length <= 32) {\n            _this3.setState({\n              name: e.target.value\n            });\n          }\n        }\n      })), __jsx(Form.Field, null, __jsx(\"label\", null, \"Avatar URL\"), __jsx(\"input\", {\n        placeholder: \"Maximum 32 characters\",\n        value: this.state.avatarUrl,\n        onChange: function onChange(e) {\n          if (e.target.value.length <= 32) {\n            _this3.setState({\n              avatarUrl: e.target.value\n            });\n          }\n        }\n      }), __jsx(\"label\", null, \"If your avatar URL is longer than 32 characters, please consider using \", __jsx(\"a\", {\n        href: \"https://goo.gl/\",\n        target: \"_blank\"\n      }, \"Google URL Shortener\"))))), __jsx(Modal.Actions, null, __jsx(Button, {\n        color: \"orange\",\n        onClick: this.updateProfileClicked\n      }, \"Update\"), __jsx(Button, {\n        color: \"grey\",\n        onClick: this.handleClose\n      }, \"Close\")));\n    }\n  }]);\n\n  return UpdateProfileModal;\n}(Component);\n\nexport default UpdateProfileModal;","map":null,"metadata":{},"sourceType":"module"}